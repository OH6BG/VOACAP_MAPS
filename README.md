# VOACAP MAPS

![](https://voacap.com/maps/2021_Nov_21.200_SDBW_13UT.png)

VOACAP_MAPS is a collection of scripts to generate a matrix of VOACAP point-to-point propagation predictions, covering the entire planet. This matrix can be used to plot various coverage area maps. Currently, in this collection, there are two scripts just to do this and one to store results in a database:

- **run_p2p_matrix.py** which helps you generate tens of thousands of point-to-point predictions
- **plot_maps.py** which helps you plot the point-to-point predictions
- **collect_data_to_database.py** helps you to parse massive point-to-point prediction files and store results in SQLite database

Make the scripts executable by setting the "execute" bit as follows:

    chmod +x run_p2p_matrix.py plot_maps.py collect_data_to_database.py

However, to be able to plot VOACAP coverage area maps, you will need to first install James Watson's pythonprop package at https://github.com/jawatson/pythonprop

Then, after having backed up the original voaAreaPlot.py from pythonprop in a safe place, replace that file with the one provided here. Also note that plotting the maps require a lot of other packages to be installed. See James Watson's page for further info.

## VOACAP.INI

Please review this file carefully. In the "default" section, change the txlat and txlon coordinates to yours. Also, adjust power (in kilowatts) to your typical level. You can keep gridsize = 120 but I would recommend the value of 73 to start with.

The "frequency" section should be fine for ham radio purposes.

The "antenna" section is again something you will need to adjust. Note that I am using antenna models which are not available so you will need to use models of your own, or select proper models from the "default" or "samples" directories that are provided with the PC version of VOACAP.

## SSN.TXT

This file contains the latest predictions of smoothed sunspot numbers (SSN) until June 2022. You will need to update this file periodically by downloading the latest data e.g. via cron from: https://wwwbis.sidc.be/silso/FORECASTS/KFprediML.txt

# Examples

## 1. Run 24 hours of predictions for Sep, Oct and Nov 2021 for all ham bands

The month numbers can be given in any order, separated by a space; they will be sorted. The same applies to year numbers. In the beginning, start experimenting with a couple of months only if you want to run 24 hours of predictions on all bands as the data to be produced will be quite massive.

    user:~/voa$ ./run_p2p_matrix.py
    Create Point-to-Point VOACAP prediction matrix.
    Copyright 2021 OH6BG Jari Perkiömäki.

    Enter year(s): 2021
    Enter month number(s) (1..12): 9 10 11
    Enter start time UTC (0..23): 0
    Enter time range in hours (1..24): 24

    SSN for Sep 2021: 26

    Processing 3.500 MHz...
    Processing 5.300 MHz...
    Processing 7.100 MHz...
    Processing 10.100 MHz...
    Processing 14.100 MHz...
    Processing 18.100 MHz...
    Processing 21.200 MHz...
    Processing 24.900 MHz...
    Processing 28.200 MHz...

    SSN for Oct 2021: 29

    Processing 3.500 MHz...
    Processing 5.300 MHz...
    Processing 7.100 MHz...
    Processing 10.100 MHz...
    Processing 14.100 MHz...
    Processing 18.100 MHz...
    Processing 21.200 MHz...
    Processing 28.200 MHz...
    Processing 24.900 MHz...

    SSN for Nov 2021: 31

    Processing 3.500 MHz...
    Processing 5.300 MHz...
    Processing 7.100 MHz...
    Processing 10.100 MHz...
    Processing 14.100 MHz...
    Processing 18.100 MHz...
    Processing 21.200 MHz...
    Processing 24.900 MHz...
    Processing 28.200 MHz...

    Output directory: /home/user/voa/predictions/12631402

## 2. Convert VOACAP prediction matrix to coverage maps

In Example 1 we generated a considerable number of prediction matrices, and the script below can be used to plot all of it to coverage maps. Running the maps will take a few minutes to complete!

    user:~/voa$ ./plot_maps.py
    Plot coverage maps from VOACAP VG files.
    Copyright 2021 OH6BG Jari Perkiömäki.

    Enter root path to VG files:  /home/user/voa/predictions/12631402

    Processing 2021 Sep 24.900...
    Processing 2021 Sep 28.200...
    Processing 2021 Sep 21.200...
    Processing 2021 Sep 10.100...
    Processing 2021 Sep 7.100...
    Processing 2021 Sep 18.100...
    Processing 2021 Sep 3.500...
    Processing 2021 Sep 5.300...
    Processing 2021 Sep 14.100...
    Processing 2021 Oct 24.900...
    Processing 2021 Oct 28.200...
    Processing 2021 Oct 21.200...
    Processing 2021 Oct 10.100...
    Processing 2021 Oct 7.100...
    Processing 2021 Oct 18.100...
    Processing 2021 Oct 3.500...
    Processing 2021 Oct 5.300...
    Processing 2021 Oct 14.100...
    Processing 2021 Nov 24.900...
    Processing 2021 Nov 28.200...
    Processing 2021 Nov 21.200...
    Processing 2021 Nov 10.100...
    Processing 2021 Nov 7.100...
    Processing 2021 Nov 18.100...
    Processing 2021 Nov 3.500...
    Processing 2021 Nov 5.300...
    Processing 2021 Nov 14.100...

    Maps complete: /home/user/voa/predictions/12631402

The root path (=directory) looks like this:

    user:~/voa/predictions/12631402$ ls -la
    total 180
    drwxr-xr-x 7 jpe jpe  4096 Aug 29 18:31 .
    drwxr-xr-x 3 jpe jpe  4096 Aug 29 18:19 ..
    drwxr-xr-x 5 jpe jpe  4096 Aug 29 18:21 2021
    drwxr-xr-x 2 jpe jpe 36864 Aug 29 18:44 REL
    drwxr-xr-x 2 jpe jpe 36864 Aug 29 18:44 SDBW
    drwxr-xr-x 2 jpe jpe 40960 Aug 29 18:44 SNR50
    drwxr-xr-x 2 jpe jpe 40960 Aug 29 18:44 SNR90

The directories of REL, SDBW, SNR50 and SNR90 contain all the maps. In this example, each map directory contains 648 maps (250+ MB). The "2021" directory contains the raw VOACAP predictions.
